## 概述
* 在最大流问题中，我们希望在不违反任何容量限制的情况下，计算出从源节点运送物料到汇点的最大速率

## 流网络

#### 流网络和流
* 流网络是一个有向图
* 流网络有源结点和汇点，所有的流量都由源结点出发，流向汇点
* 每条边有一个非负的容量值 c，代表边上能通过的最大流量
* 边的流 f，代表整个流网络经过最大化计算后，边上实际通过的流量
* 容量限制：f < c，即一条边上的实际流量不能超过其最大流量
* 流量守恒：进入一个结点的流必须与流出此结点的流相等
* 整个网络的流，定义为由源结点出发的流的总和

#### 流的一个例子
* 举了一个途径多个城市的货运问题作为流网络的例子

#### 使用反平行边来模拟问题
* 反平行边是指网络中互为反向的两条边
* 实际问题中是存在反平行边的，而流网络的定义中禁止反平行边的存在，那么我们可以通过将反平行边中的一条分解为两段（中间插入一个新结点）的方法消除反平行边，两段新的边容量设置为与原来的边容量相等
* 可以证明上述转换后的网络与原网络等价（等价的意思我理解为，计算出的最大流相等）

#### 具有多个源结点和多个汇点的网络
* 此种问题可以转换为单源结点单汇点的问题，方法是增加超级源结点，增加超级源结点到所有源结点的边，并将其容量设置为无穷大，同样地，增加超级汇点，增加所有汇点到超级汇点的边，并将其容量设置为无穷大
* 可以证明上述转换后的网络与原网络等价

## Ford-Fulkerson 方法
* 几个重要概念：残存网络、增广路径、切割
* 最大流问题的思路大致为：在残存网络中寻找增广路径，操作增广路径的边以增加流的值，迭代进行操作，直到残存网络中不再存在增广路径为止。

#### 残存网络
* 残存网络是由那些仍有空间对流量进行调整的边构成，通俗的解释一下调整，意思是对一条边上的流量增大或减小（减小或许有助于整个网络的流增加）
* 残存网络可能包含原图中不存在的边，举例说明：有一条边 u ~ v 的容量为 c，当前的流量为 f（假设 0 < f < c），那么相应的残存网络中会有两条相关的边，一条是 u ~ v，容量为 c - f，另一条边是 v ~ u，容量为 f。这两条边是反平行边。
* 将残存网络也当做一个流网络来处理（当然得解决其中的反平行边问题），计算出残存网络的流 f'，将 f' 称为原网络的流 f 的递增。将 f' 叠加到 f 上，即可得到一个更大的流。那么再重新计算残存网络，迭代的增加 f，直到最后的残存网络中的 f' 等于 0 为止。
* 引理 26.1 给出了将 f' 叠加到 f 上的理论依据，可以证明叠加后的流依然是原图 G 的一个流，且其值为 f + f'

#### 增广路径
* 增广路径是残存网络中一条由源结点 s 到汇点 t 的简单路径
* 增广路径的残存容量为其路径上所有边的残存容量的最小值
* 引理 26.2 形式化的描述了增广路径的流表现（以流的形式描述增广路径），即路径上边的流量皆为路径的残存容量，其余边的流量为 0
* 推论 26.3 指出可以将增广路径的流叠加到原来流上形成一个更接近最大流的流

#### 流网络的切割
* 一个切割定义为两个结点集 S（包含 s）和 T（包含 t）  
* 横跨切割的净流量 f 定义为，所有 S -> T 的边的流量，减去所有 T -> S 的边的流量  
* 切割的容量定义为所有 S -> T 的边的容量之和
* 引理 26.4 指出了横跨切割的净流量等于网络的流 f
* 推论 26.5 指出任意流 f 不能超过任意切割的容量
* 定理 26.6 最大流最小切割定理，指出网络的最大流等于某个切割的容量（最小切割）

#### 基本的 Ford-Fulkerson 算法
* 算法的基本思路如上文所述：迭代的寻找增广路径，将增广路径叠加到原来的流上形成一个更大的流，直到残存网络中不存在增广路径为止
* 没有给出寻找增广路径的方法，算法中一句话带过了。个人思考可以对残存网络使用深度优先遍历来寻找增广路径。

#### Ford-Fulkerson 算法的分析
* 算法的运行时间取决于如何寻找增广路径
* 一个基本的方法是，用深度优先搜索或广度优先搜索找到一条路径，然后路径上的流量都设为 1，以这条路径作为增广路径，如此操作算法的运行时间为 O(E|f|)
* 这种操作在最大流 f 的值较小时性能很好，f 数值比较大舅不够理想了

#### Edmonds-Karp 算法
* 算法的核心思路是通过广度优先搜索寻找增广路径，与上一小段不同的是，不再将路径上的流量设为 1，而是寻找路径上能容纳的最大的流量，将其作为路径的流量
* 引理 26.7 残存网络中的最短路径距离随着每次流量的递增而单调递增。单纯的理解这个引理非常疑惑，让人怀疑这和流 & 增广路径有什么关系。通俗的理解，这里想表达的是，通过 Edmonds-Karp 算法的执行找到一条增广路径（最短路径）后，设置其流量并叠加到图中，新的残存网络中此增广路径必定不存在了，再次寻找的最短路径一定更长。原因是增广路径的流量值设置为路径的最大流量，这样叠加后的图的残存网络一定有某条边消失（即下文中的关建边）
* 定理 26.8 给出了算法执行的流量递增操作的总次数为 O(VE)
* Edmonds-Karp 算法的总运行时间为 O(VE²)


## 最大二分匹配






